% CVPR Paper Formatting Style
% Based on CVPR 2024 submission guidelines

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cvpr}[2024/01/01 CVPR Paper Style]

% Page layout
\setlength{\textheight}{8.875in}
\setlength{\textwidth}{6.875in}
\setlength{\columnsep}{0.3125in}
\setlength{\topmargin}{0in}
\setlength{\headheight}{0in}
\setlength{\headsep}{0in}
\setlength{\parindent}{1pc}
\setlength{\oddsidemargin}{-.304in}
\setlength{\evensidemargin}{-.304in}

% Section formatting
\makeatletter

\renewcommand\section{\@startsection{section}{1}{\z@}%
  {-2.5ex \@plus -1ex \@minus -.2ex}%
  {1.3ex \@plus .2ex}%
  {\normalfont\large\bfseries}}

\renewcommand\subsection{\@startsection{subsection}{2}{\z@}%
  {-2.0ex\@plus -1ex \@minus -.2ex}%
  {0.8ex \@plus .2ex}%
  {\normalfont\normalsize\bfseries}}

\renewcommand\subsubsection{\@startsection{subsubsection}{3}{\z@}%
  {-1.5ex\@plus -1ex \@minus -.2ex}%
  {0.5ex \@plus .2ex}%
  {\normalfont\normalsize\bfseries}}

% Paragraph formatting
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
  {1ex \@plus 1ex \@minus .2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}}

% Title formatting
\def\@maketitle{%
  \newpage
  \null
  \vskip 0.1in%
  \begin{center}%
    \let\footnote\thanks
    {\Large\bfseries \@title \par}%
    \vskip 0.2in%
    {\large
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
  \end{center}%
  \par
  \vskip 0.2in}

% Abstract formatting
\renewenvironment{abstract}{%
  \centerline{\large\bfseries Abstract}%
  \vspace{0.5ex}%
  \begin{quote}\small}%
  {\par\end{quote}\vskip 1ex}

% Caption formatting
\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip
  \sbox\@tempboxa{{\small\bfseries #1.} {\small #2}}%
  \ifdim \wd\@tempboxa >\hsize
    {\small\bfseries #1.} {\small #2}\par
  \else
    \global \@minipagefalse
    \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip}

% Figure and table spacing
\setlength{\abovecaptionskip}{6pt}
\setlength{\belowcaptionskip}{6pt}
\setlength{\floatsep}{10pt plus 2pt minus 2pt}
\setlength{\textfloatsep}{10pt plus 2pt minus 4pt}
\setlength{\intextsep}{8pt plus 2pt minus 2pt}

% Bibliography formatting
\renewcommand{\refname}{References}

% Footnote formatting
\renewcommand\footnoterule{%
  \kern-3\p@
  \hrule\@width.4\columnwidth
  \kern2.6\p@}

% Page numbering (for submission)
\pagestyle{plain}

\makeatother

\endinput
